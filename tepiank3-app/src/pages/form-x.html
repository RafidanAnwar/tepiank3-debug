<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Identitas Diri Modern</title>
    <!-- Memuat Tailwind CSS untuk desain modern -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Konfigurasi Tailwind untuk menggunakan font Inter -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb; /* Abu muda lembut */
        }
    </style>
    <script>
        // Setup dasar Firebase (WAJIB ADA untuk aplikasi web modern)
        // Variabel global ini disediakan oleh lingkungan Canvas
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    </script>
</head>
<body class="min-h-screen">

    <div class="container mx-auto p-4 sm:p-8">
        <!-- Header & Judul Utama -->
        <header class="mb-8 p-4 bg-white shadow-lg rounded-xl">
            <h1 class="text-3xl font-extrabold text-gray-800 text-center sm:text-left">
                Formulir Identitas Diri
            </h1>
            <p class="text-gray-500 mt-1 text-center sm:text-left">Lengkapi data Anda untuk profil yang profesional dan terperinci.</p>
        </header>

        <!-- Menu Navigasi Horizontal (Tabs) -->
        <nav class="bg-white p-2 rounded-xl shadow-lg mb-8">
            <div class="flex flex-wrap justify-between gap-2 sm:gap-4 text-sm sm:text-base">
                <button data-tab="beranda" class="tab-button flex-1 py-3 px-2 sm:px-4 text-center rounded-lg font-medium transition-all duration-200 text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Beranda
                </button>
                <button data-tab="pribadi" class="tab-button flex-1 py-3 px-2 sm:px-4 text-center rounded-lg font-medium transition-all duration-200 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Data Pribadi
                </button>
                <button data-tab="pendidikan" class="tab-button flex-1 py-3 px-2 sm:px-4 text-center rounded-lg font-medium transition-all duration-200 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Pendidikan
                </button>
                <button data-tab="organisasi" class="tab-button flex-1 py-3 px-2 sm:px-4 text-center rounded-lg font-medium transition-all duration-200 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Pengalaman Organisasi
                </button>
                <button data-tab="kerja" class="tab-button flex-1 py-3 px-2 sm:px-4 text-center rounded-lg font-medium transition-all duration-200 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Pengalaman Kerja
                </button>
            </div>
        </nav>

        <!-- Form Utama (Konten Tabs) -->
        <main id="form-content">

            <!-- 1. Beranda (Ringkasan) -->
            <section id="tab-beranda" class="tab-content p-6 bg-white shadow-xl rounded-xl">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Selamat Datang!</h2>
                <div class="space-y-4 text-gray-600">
                    <p>Halaman ini memberikan ringkasan status pengisian data Anda. Silakan gunakan menu navigasi di atas untuk melengkapi setiap bagian identitas diri Anda secara bertahap.</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li>Pastikan semua informasi akurat dan terbaru.</li>
                        <li>Gunakan tombol "Simpan Data" di akhir setiap bagian untuk menyimpan progres Anda.</li>
                    </ul>
                    <p class="text-blue-600 font-medium">Status: Belum Lengkap</p>
                    <button class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-200">Mulai Isi Formulir</button>
                </div>
            </section>

            <!-- 2. Data Pribadi -->
            <section id="tab-pribadi" class="tab-content hidden p-6 bg-white shadow-xl rounded-xl">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">Data Pribadi</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Nama Lengkap -->
                    <div>
                        <label for="nama_lengkap" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                        <input type="text" id="nama_lengkap" placeholder="Masukkan nama lengkap Anda" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="email" placeholder="Contoh: nama@domain.com" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <!-- Nomor Telepon -->
                    <div>
                        <label for="telepon" class="block text-sm font-medium text-gray-700 mb-1">Nomor Telepon</label>
                        <input type="tel" id="telepon" placeholder="Contoh: 081234567890" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <!-- Alamat -->
                    <div class="md:col-span-2">
                        <label for="alamat" class="block text-sm font-medium text-gray-700 mb-1">Alamat Lengkap</label>
                        <textarea id="alamat" rows="3" placeholder="Masukkan alamat domisili Anda" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
                    </div>
                </div>

                <!-- Tombol Simpan -->
                <div class="mt-8 pt-4 border-t">
                    <button class="w-full sm:w-auto bg-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-blue-700 transition duration-200 shadow-md shadow-blue-300/50">
                        Simpan Data Pribadi
                    </button>
                </div>
            </section>

            <!-- 3. Pendidikan -->
            <section id="tab-pendidikan" class="tab-content hidden p-6 bg-white shadow-xl rounded-xl">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">Riwayat Pendidikan</h2>
                <div class="space-y-6">
                    <!-- Form Pendidikan Terakhir -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Pendidikan Terakhir (Dropdown) -->
                        <div>
                            <label for="tingkat_pendidikan" class="block text-sm font-medium text-gray-700 mb-1">Pendidikan Terakhir</label>
                            <select id="tingkat_pendidikan" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150 appearance-none bg-white">
                                <option value="">Pilih Tingkat Pendidikan</option>
                                <option value="sd">SD</option>
                                <option value="smp">SMP</option>
                                <option value="sma">SMA/SMK</option>
                                <option value="d3">D3/D4</option>
                                <option value="s1">S1/Sarjana</option>
                                <option value="s2">S2/Magister</option>
                                <option value="s3">S3/Doktor</option>
                            </select>
                        </div>
                        <!-- Sekolah/Universitas -->
                        <div>
                            <label for="institusi" class="block text-sm font-medium text-gray-700 mb-1">Nama Institusi (Sekolah/Universitas)</label>
                            <input type="text" id="institusi" placeholder="Contoh: Universitas Gadjah Mada" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                        </div>
                        <!-- Jurusan -->
                        <div>
                            <label for="jurusan" class="block text-sm font-medium text-gray-700 mb-1">Jurusan / Program Studi</label>
                            <input type="text" id="jurusan" placeholder="Contoh: Teknik Informatika" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                        </div>
                        <!-- Tahun Lulus -->
                        <div>
                            <label for="tahun_lulus" class="block text-sm font-medium text-gray-700 mb-1">Tahun Lulus</label>
                            <input type="number" id="tahun_lulus" placeholder="Contoh: 2022" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                        </div>
                    </div>
                </div>

                <!-- Tombol Simpan -->
                <div class="mt-8 pt-4 border-t">
                    <button class="w-full sm:w-auto bg-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-blue-700 transition duration-200 shadow-md shadow-blue-300/50">
                        Simpan Data Pendidikan
                    </button>
                </div>
            </section>

            <!-- 4. Pengalaman Organisasi -->
            <section id="tab-organisasi" class="tab-content hidden p-6 bg-white shadow-xl rounded-xl">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">Pengalaman Organisasi</h2>
                
                <!-- Area Teks untuk Deskripsi Organisasi -->
                <div class="mb-6">
                    <label for="deskripsi_organisasi" class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Pengalaman Organisasi (Nama Organisasi, Posisi, Periode, dan Tugas)</label>
                    <textarea id="deskripsi_organisasi" rows="8" placeholder="Contoh:&#10;- Organisasi: BEM Fakultas X&#10;  Posisi: Kepala Divisi Komunikasi&#10;  Periode: 2020 - 2021&#10;  Tugas: Mengelola media sosial dan hubungan pers.&#10;&#10;- Organisasi: Klub Pecinta Alam Y..." class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
                    <p class="text-xs text-gray-500 mt-1">Gunakan format poin per poin agar mudah dibaca dan dinilai.</p>
                </div>

                <!-- Tombol Simpan -->
                <div class="mt-8 pt-4 border-t">
                    <button class="w-full sm:w-auto bg-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-blue-700 transition duration-200 shadow-md shadow-blue-300/50">
                        Simpan Data Organisasi
                    </button>
                </div>
            </section>

            <!-- 5. Pengalaman Kerja -->
            <section id="tab-kerja" class="tab-content hidden p-6 bg-white shadow-xl rounded-xl">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">Pengalaman Kerja</h2>
                
                <!-- Area Teks untuk Deskripsi Pekerjaan -->
                <div class="mb-6">
                    <label for="deskripsi_kerja" class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Pengalaman Kerja (Nama Perusahaan, Posisi, Periode, dan Tanggung Jawab)</label>
                    <textarea id="deskripsi_kerja" rows="8" placeholder="Contoh:&#10;- Perusahaan: PT Maju Jaya&#10;  Posisi: Staf Akuntansi Junior&#10;  Periode: Jan 2022 - Des 2023&#10;  Tanggung Jawab: Menyusun laporan keuangan bulanan dan rekonsiliasi bank.&#10;&#10;- Perusahaan: Freelance Desainer Grafis..." class="w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
                    <p class="text-xs text-gray-500 mt-1">Gunakan format poin per poin agar mudah dibaca dan dinilai.</p>
                </div>

                <!-- Tombol Simpan -->
                <div class="mt-8 pt-4 border-t">
                    <button class="w-full sm:w-auto bg-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-blue-700 transition duration-200 shadow-md shadow-blue-300/50">
                        Simpan Data Pekerjaan
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Script Navigasi Tab -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            // Fungsi untuk mengaktifkan tab
            const activateTab = (tabName) => {
                // 1. Sembunyikan semua konten tab
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });

                // 2. Nonaktifkan semua tombol (style default)
                tabButtons.forEach(button => {
                    button.classList.remove('bg-blue-600', 'text-white', 'hover:bg-blue-700');
                    button.classList.add('text-gray-700', 'hover:bg-gray-100');
                });

                // 3. Tampilkan konten tab yang dipilih
                const activeContent = document.getElementById(`tab-${tabName}`);
                if (activeContent) {
                    activeContent.classList.remove('hidden');
                }

                // 4. Aktifkan tombol yang dipilih (style biru lembut)
                const activeButton = document.querySelector(`.tab-button[data-tab="${tabName}"]`);
                if (activeButton) {
                    activeButton.classList.add('bg-blue-600', 'text-white', 'hover:bg-blue-700');
                    activeButton.classList.remove('text-gray-700', 'hover:bg-gray-100');
                }
            };

            // Event listener untuk tombol tab
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabName = button.getAttribute('data-tab');
                    activateTab(tabName);
                });
            });

            // Aktifkan tab Beranda saat halaman dimuat
            activateTab('beranda');

            // --- FIREBASE INITIALIZATION ---
            // Karena ini adalah rancangan tampilan, kami hanya menginisialisasi layanan.
            // Logika penyimpanan data (Simpan) akan membutuhkan implementasi Firestore.
            try {
                // Impor modul Firebase (memerlukan `type="module"` jika di file terpisah)
                import('https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js')
                    .then(module => {
                        const { initializeApp } = module;
                        const app = initializeApp(firebaseConfig);

                        // Lanjutkan dengan impor Auth dan Firestore
                        return Promise.all([
                            import('https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js'),
                            import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js')
                        ]);
                    })
                    .then(([authModule, firestoreModule]) => {
                        const { getAuth, signInWithCustomToken, signInAnonymously } = authModule;
                        const { getFirestore } = firestoreModule;

                        const auth = getAuth(app);
                        window.db = getFirestore(app);

                        // Autentikasi menggunakan token dari Canvas
                        if (typeof __initial_auth_token !== 'undefined') {
                            signInWithCustomToken(auth, __initial_auth_token)
                                .then(() => console.log("Firebase Auth berhasil menggunakan Custom Token."))
                                .catch(error => console.error("Firebase Auth Gagal:", error));
                        } else {
                            signInAnonymously(auth)
                                .then(() => console.log("Firebase Auth berhasil secara Anonim."))
                                .catch(error => console.error("Firebase Auth Gagal:", error));
                        }
                    })
                    .catch(error => {
                        console.error("Gagal memuat atau menginisialisasi Firebase:", error);
                    });
            } catch (e) {
                console.error("Kesalahan umum saat menginisialisasi Firebase:", e);
            }
        });
    </script>
</body>
</html>